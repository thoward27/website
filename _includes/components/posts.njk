{% macro card(post) %}
<article{% if post.url == url %} data-current="current item"{% endif %}>
    <time datetime="{{ post.date | machineDate }}">{{ post.date | readableDate }}</time>
    <span class="category"><a href="{{ post.category | url }}">{{ post.category }}</a>{{ post.category }}</span>
    <h3>
        <a href="{{ post.url | url }}">
            {% if post.data.title %}
                {{ post.data.title }}
            {% else %}
                Untitled
            {% endif %}
        </a>
    </h3>
    {% if post.data.summary %}
        <p>
            {{ post.data.summary }}
        </p>
    {% endif %}
    {% if post.data.tags %}
        <ul>
            {% for tag in post.data.tags %}
            {%- if tag != "post" -%}
                {% set tagUrl %}/tags/{{ tag }}/{% endset %}
            <li><a href="{{ tagUrl | url }}" rel="tag">{{ tag }}</a></li>
            {%- endif -%}
            {% endfor %}
        </ul>
    {% endif %}
</article>
{% endmacro %}